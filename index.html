<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Full-Screen Button</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #top-bar {
            background-color: #333;
            width: 100%;
            height: 15vh;
            display: flex;
            justify-content: space-around; /* To create space between the input fields */
            align-items: center;
            position: fixed;
            top: 0;
            left: 0;
        }

        .input-field {
            width: 30%; /* Adjust the width as needed */
            padding: 10px;
            background-color: #fff;
            border: 1px solid #ccc;
        }

        #input-bar {
            width: 50%;
            padding: 10px;
            background-color: #fff;
            border: 1px solid #ccc;
        }

        #full-screen-button {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #button {
            padding: 20px;
            width: 100%;
            height: 100%;
            background-color: #55ff55;
            color: #000000;
            border: none;
            cursor: pointer;
            font-size: 150px;
            font-weight: bold
        }
    </style>
</head>
<body>
    <div id="top-bar">
        <input class="input-field" type="number" placeholder="Enter Player Count" id="playersNumber">
        <input class="input-field" type="number" placeholder="Enter logarithmicRandom Scale" id="impostorsNumber">
        <input class="input-field" type="number" placeholder="Enter Time To Wait" id="timeToWait">
    </div>

    <div id="full-screen-button">
        <button id="button">Start</button>
    </div>
    <script>
        var buttonElement = document.getElementById("button");
        var inputBar1 = document.getElementById("playersNumber");
        var inputBar2 = document.getElementById("impostorsNumber");
        var inputBar3 = document.getElementById("timeToWait");
        var gameStarted = false;
        var currentPlayer = 0;
        var maxPlayers = inputBar1.value;
        var impostors = NaN;
        var pickedWord = "";
        var impostorCount = 1;
        var timeToWait = 1000;
        const words = ["Slovo","čas","cesta","rok","práce","vláda","den","muž","svět","život","část","Dům","chod","pouzdro","Systém","místo","konec","skupina","společnost","oslava","informace","škola","skutečnost","peníze","směřovat","příklad","Stát","podnikání","noc","plocha","voda","věc","rodina","hlava","ruka","objednat","John","boční","Domov","rozvoj","týden","Napájení","země","rada","použití","servis","pokoj","trh","problém","soud","hodně","válka","POLICIE","zájem","auto","zákon","silnice","formulář","tvář","vzdělání","politika","výzkum","třídit","kancelář","tělo","osoba","zdraví","matka","otázka","doba","název","rezervovat","úroveň","dítě","řízení","společnost","ministr","Pohled","dveře","čára","společenství","jižní","město","Bůh","otec","centrum","účinek","personál","pozice","druh","práce","žena","akce","řízení","proces","severní","stáří","důkaz","idea","Západ","Podpěra","moment","smysl","zpráva","mysl","kostel","ráno","smrt","změna","průmysl","přistát","péče","století","rozsah","stůl","zadní","obchod","Dějiny","studie","ulice","výbor","hodnotit","slovo","jídlo","Jazyk","Zkušenosti","výsledek","tým","jiný","sekce","program","vzduch","autorita","role","důvod","cena","město","třída","Příroda","předmět","oddělení","svaz","banka","člen","hodnota","potřeba","východní","praxe","typ","papír","datum","rozhodnutí","postava","manželka","prezident","univerzita","přítel","klub","kvalitní","hlas","pán","etapa","král","nás","situace","světlo","daň","Výroba","březen","tajemník","umění","deska","smět","Měsíc","hudba","náklady","pole","cena","problém","postel","projekt","kapitola","dívka","hra","množství","základ","znalost","přístup","série","milovat","horní","zprávy","přední","budoucnost","manažer","účet","počítač","bezpečnostní","odpočinek","práce","struktura","vlasy","účtovat","srdce","platnost","Pozornost","hnutí","úspěch","dopis","dohoda","hlavní město","analýza","populace","životní prostředí","výkon","Modelka","materiál","teorie","růst","oheň","šance","chlapec","vztah","syn","moře","záznam","velikost","vlastnictví","prostor","období","ředitel","plán","chování","léčba","energie","Svatý","Petr","příjem","pohár","systém","design","Odezva","sdružení","výběr","tlak","hala","pár","technika","obrana","seznam","předseda","ztráta","aktivita","smlouva","okres","stěna","Pavel","rozdíl","armáda","hotel","slunce","produkt","léto","soubor","vesnice","barva","podlaha","sezóna","jednotka","park","hodina","investice","test","zahrada","manžel","zaměstnanost","styl","Věda","Koukni se","obchod","nabít","Pomoc","ekonomika","Nový","strana","riziko","Rada","událost","obrázek","komise","Ryba","vysoká škola","olej","doktor","příležitost","film","konference","úkon","aplikace","lis","rozsah","přidání","stanice","okno","prodejna","přístup","kraj","pochybovat","většina","stupeň","televize","krev","prohlášení","zvuk","volby","parlament","místo","označit","důležitost","titul","druh","zvýšit","vrátit se","znepokojení","veřejnost","soutěž","software","sklenka","dáma","Odpovědět","Země","dcera","účel","odpovědnost","vůdce","řeka","oko","schopnost","odvolání","opozice","kampaň","respekt","úkol","instance","Prodej","Celý","důstojník","metoda","divize","zdroj","kus","vzor","nedostatek","choroba","zařízení","povrch","Oxford","poptávka","pošta","pusa","rádio","ustanovení","pokus","sektor","firma","postavení","mír","odrůda","učitel","ukázat","mluvčí","dítě","paže","základna","slečna, minout","bezpečnost","problémy","kultura","směr","kontext","charakter","box","diskuse","minulost","hmotnost","organizace","Start","bratr","liga","stav","stroj","argument","sex","rozpočet","Angličtina","doprava","podíl","maminka","hotovost","zásada","výměna","pomoc","knihovna","verze","pravidlo","čaj","Zůstatek","odpoledne","odkaz","ochrana","pravda","okres","otočit se","Kovář","Posouzení","minuta","povinnost","průzkum","přítomnost","vliv","kámen","Pes","výhoda","sbírka","výkonný","mluvený projev","funkce","královna","manželství","skladem","selhání","kuchyně","student","snaha","Dovolená","kariéra","Záchvat","délka","kůň","pokrok","rostlina","návštěva","vztah","míč","Paměť","bar","názor","čtvrťák","dopad","měřítko","závod","obraz","důvěra","spravedlnost","okraj","plyn","železnice","výraz","výhoda","zlato","dřevo","síť","text","les","sestra","židle","způsobit","chodidlo","stoupat","polovina","zima","roh","pojištění","krok","poškození","kredit","bolest","možnost","legislativa","síla","Rychlost","zločin","kopec","rozprava","vůle","zásobování","současnost, dárek","důvěra","mary","trpěliví","vítr","řešení","kapela","muzeum","farma","libra","Jindřich","zápas","Posouzení","zpráva","Fotbal","Ne","zvíře","kůže","scéna","článek","věci","úvod","hrát si","správa","strach","Táto","poměr","ostrov","Kontakt","Japonsko","Nárok","království","video","televize","existence","telefon","hýbat se","provoz","vzdálenost","úleva","skříň","nezaměstnanost","realita","cílová","soud","Skála","pojem","duch","nehoda","organizace","konstrukce","káva","telefon","rozdělení","vlak","pohled","obtížnost","faktor","cvičení","víkend","bitva","vězení","grant","letadlo","strom","most","strategie","kontrast","sdělení","Pozadí","tvar","víno","hvězda","naděje","výběr","detail","uživatel","cesta","klienta","Vyhledávání","mistr","déšť","nabídka","fotbalová branka","večeře","svoboda","přístup","zatímco","agentura","sedadlo","způsob","laskavost","Obr.","pár","krize","usměj se","princ","nebezpečí","volání","kapacita","výstup","Poznámka","postup","divadlo","prohlídka","uznání","střední","absence","věta","balík","dráha","Kartu","podepsat","závazek","hráč","ohrožení","počasí","živel","konflikt","oznámení","vítězství","dno","finance","fond","násilí","soubor","zisk","Standard","zvedák","trasa","Čína","výdaje","druhý","disciplína","buňka","str.","reakce","hrad","kongres","individuální","Vést","ohleduplnost","dluh","volba","Způsob platby","výstava","reforma","důraz","jaro","publikum","Vlastnosti","dotek","majetek","shromáždění","hlasitost","mládí","příspěvek","osnovy","vzhled","Martin","tom","loď","ústav","členství","větev","autobus","odpad","teplo","krk","objekt","kapitán","Řidič","výzva","konverzace","příležitost","kód","koruna","narození","umlčet","literatura","víra","peklo","vstup","převod","gentleman","Taška","uhlí","vyšetřování","noha","víra","celkový","hlavní, důležitý","dokument","popis","vražda","cíl","Manchester","let","závěr","lék","tradice","potěšení","spojení","majitel","dohoda","tony","alan","touha","profesor","kopírovat","ministerstvo","kyselina","palác","adresa","instituce","oběd","generace","partner","motor","noviny","přejít","redukce","blahobytu","definice","klíč","uvolnění","hlasování","zkouška","soudce","atmosféra","vedení lidí","nebe","dech","stvoření","řádek","průvodce","mléko","Pokrýt","obrazovka","záměr","kritika","jones","stříbrný","zákazník","cesta","vysvětlení","zelená","opatření","mozek","význam","fáze","zranění","běh","pobřeží","technika","údolí","napít se","časopis","potenciál","řídit","revoluce","biskup","vyrovnání","Kristus","kov","pohyb","index","dospělý","inflace","sport","překvapení","důchod","továrna","páska","tok","žehlička","výlet","pruh","bazén","nezávislost","otvor","un","byt","obsah","platit","hluk","kombinace","zasedání","jmenování","móda","spotřebitel","ubytování","teplota","Mike","náboženství","autor","národ","severní","vzorek","pomoc","výklad","aspekt","Zobrazit","rameno","činidlo","galerie","republika","rakovina","návrh","sekvence","simon","loď","rozhovor","vozidlo","demokracie","zlepšení","účast","Všeobecné","podnik","dodávka","jídlo","snídaně","motor","kanál","dojem","tón","prostěradlo","znečištění","bob","krása","náměstí","vidění","bod","rozdíl","hnědý","dav","palivo","lavice","součet","pokles","příjmy","podzim","strava","ložnice","půda","čtenář","šokovat","ovoce","jménem","náměstek","střecha","nos","ocel","co","umělec","graham","talíř","píseň","údržba","formace","tráva","mluvčí","led","mluvit","program","odkaz","prsten","expert","zřízení","plastický","kandidát","železniční","průchod","joe","farní","ref","nouzový","odpovědnost","identita","umístění","rámec","stávkovat","venkov","mapa","jezero","Domácnost","odsouhlasení","okraj","láhev","pták","ústava","podzim","kočka","zemědělství","koncentrace","chlap","šaty","oběť","hora","editor","téma","chyba","půjčka","stres","zotavení","elektřina","recese","bohatství","žádost","srovnání","Lewis","bílý","Procházka","soustředit se","hlavní","rodič","spát","Hmotnost","Jane","keř","nadace","koupel","položka","životnost","závětří","vydání","desetiletí","pláž","cukr","výška","charita","spisovatel","panel","boj","sen","výsledek","účinnost","útok","rozlišení","pověst","specialista","Taylor","hospoda","spolupráce","přístav","incident","reprezentace","chléb","řetěz","iniciativa","doložka","odpor","chyba","pracovník","záloha","říše","představa","zrcadlo","dodávka","hruď","licence","upřímný","průměrný","povědomí","cestovat","expanze","blok","alternativní","kancléř","maso","obchod","já","přestávka","drama","korporace","měna","rozšíření","konvence","partnerství","dovednost","nábytek","kolo","režim","poptávka","ragby","filozofie","rozsah","brána","menšina","inteligence","restaurace","následek","mlýn","golf","odchod do důchodu","přednost","letadlo","pistole","mezera","jádro","strýc","Thatcher","zábava","příchod","sníh","příkaz","zneužívání","omezit","mistrovství"]


        function calculatePercentage(percentage, n) {
            if (percentage >= 0 && percentage <= 100 && n >= 0) {
                // Calculate the result and round it up using Math.ceil
                const result = (percentage / 100) * n;
                return Math.ceil(result);
            } else {
                // Handle invalid input
                return "Invalid input. Percentage should be between 0 and 100, and n should be a non-negative number.";
            }
        }

        function getRandomLogarithmic(min, max, scale) {
            const range = max - min + 1;
            const uniformRandom = Math.random();
            const logarithmicRandom = min + range * (1 - Math.exp(-uniformRandom * scale));
            return max - logarithmicRandom+1;
        }

        function getRandomWord() {
            const randomIndex = Math.floor(Math.random() * words.length);
            return words[randomIndex];
        }

        function getImpostors(impostorCount, maxPlayers) {
            if (impostorCount > maxPlayers) {
                throw new Error("Cannot pick more numbers than the available range.");
            }

            const numbers = Array.from({ length: maxPlayers }, (_, i) => i);
            
            for (let i = 0; i < impostorCount; i++) {
                const randomIndex = Math.floor(Math.random() * (maxPlayers - i));
                [numbers[i], numbers[i + randomIndex]] = [numbers[i + randomIndex], numbers[i]];
            }
            
            return numbers.slice(0, impostorCount);
        }

        function start() {
            if(inputBar1.value.length == 0) {alert("please input player count");return;}
            gameStarted = true;
            buttonElement.innerHTML = "Reveal Your Word"
            buttonElement.style.backgroundColor = "#888888";
            maxPlayers = inputBar1.value;
            logRandom = getRandomLogarithmic(1,100,inputBar2.value)
            impostorCount = calculatePercentage(logRandom,maxPlayers);
            if(impostorCount > 2) {impostorCount--}
            timeToWait = inputBar3.value;
            if(impostorCount.length == 0) {impostorCount = 1}
            if(timeToWait.length == 0) {timeToWait = 1000}
            impostors = getImpostors(impostorCount, maxPlayers);
            currentPlayer = 0;
            impostorId = Math.floor(Math.random() * maxPlayers);
            pickedWord = getRandomWord();
        }

        function stop() {
            gameStarted = false;
            buttonElement.innerHTML = "Start"
            buttonElement.style.backgroundColor = "#55ff55";
            maxPlayers = inputBar.value;
            impostorId = NaN;
        }

        function impostor() {
            buttonElement.style.backgroundColor = "#aa8888";
            buttonElement.innerHTML = "You Are The Impostor";
        }

        function showWord() {
            buttonElement.style.backgroundColor = "#88aa88";
            buttonElement.innerHTML = pickedWord;
        }

        function backButton() {
            buttonElement.innerHTML = "Reveal Your Word"
            buttonElement.style.backgroundColor = "#888888";
            buttonElement.disabled = false;
        }

        function reveal(){
            buttonElement.disabled = true;  
            if(impostors.includes(currentPlayer)){
                impostor();
            }else{
                showWord();
            }
            setTimeout(function() {
                backButton();
                currentPlayer++
                if(currentPlayer == maxPlayers){
                    stop();
                }
            }, timeToWait);

            
        }
        // JavaScript to handle button click
        buttonElement.addEventListener("click", function() {
            if(gameStarted){
                reveal();
            }else{
                start();
            }

        });

        inputBar1.addEventListener("input", function() {
            // Check if input1 is empty or not a number
            if (inputBar1.value.trim() === "" || isNaN(inputBar1.value)) {
                inputBar1.value = "";
            }
        });

        inputBar2.addEventListener("input", function() {
            
            // Check if inputBar2 is empty or not a number
            if (inputBar2.value.trim() === "" || isNaN(inputBar2.value)) {
                inputBar2.value = "";
            }

            //// Check if inputBar2 is larger or the same as input1
            //if (parseInt(inputBar2.value) >= parseInt(inputBar1.value)) {
            //    inputBar2.value = "";
            //}
        });

        inputBar3.addEventListener("input", function() {
            // Check if inputBar3 is empty or not a number
            if (inputBar3.value.trim() === "" || isNaN(inputBar3.value)) {
                inputBar3.value = "";
            }
        });
    </script>
</body>
</html>
